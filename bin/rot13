#!/usr/bin/env python
# ------------------------------------------------------------------------------
# Implementation of the ROT13 substitution cypher.
#
# Applies the cypher to the script's first argument;
# reads from stdin if no argument is supplied.
#
#     $ rot13 "foo bar"
#     $ rot13 < infile.txt
#
# Author: Darren Mulholland <darren@mulholland.xyz>
# License: Public Domain
# ------------------------------------------------------------------------------

import sys


def rot13(text):
    plain = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"
    rot13 = "NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm"
    table = {key: val for key, val in zip(plain, rot13)}
    return ''.join(table.get(c, c) for c in text)


def main():
    text = sys.stdin.read() if len(sys.argv) < 2 else sys.argv[1]
    sys.stdout.write(rot13(text))
    sys.stdout.write("\n")


if __name__ == "__main__":
    assert rot13("Hello, World!",) == "Uryyb, Jbeyq!"
    main()
